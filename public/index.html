<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscription</title>
    <link rel="stylesheet" href="styles.css">

</head>
<body>
    <header class="header">

        <button id="updateFeeButton" class="hidden">Update Fee</button>

        <!-- Contract Address Display -->
        <div id="contract-address" class="neon-text hidden"></div>
    
        <!-- Wallet Connect Button -->
        <button id="walletConnectButton" class="wallet-connect disconnected">
            <img src="./assets/metamask_logo.png" alt="MetaMask" class="wallet-logo">
        </button>
    </header>
    <div class="container">
        <h1 class="neon-text">Subscribe to a Decent Future!</h1>
        <div class="subscription-wrapper">
            <div class="subscription-button">
                <div id="subscriptionFee" class="neon-text">
                    <img src="./assets/Polygon_Logo.png" alt="Polygon" id="feeIcon" class="fee-icon hidden">
                    <span id="feeAmount">Loading fee...</span>
                </div>
                <div>X</div>
                <label for="months">Enter Months</label>
                <input type="number" id="months" min="1" value="1" class="neon-input">
                <button id="subscribeButton" class="neon-submit">Subscribe</button>
            </div>
        </div>
        <br>
        <button id="cancelButton" class="neon-button">Cancel Subscription</button>
        <br>
        <div id="status" class="neon-text"></div>

    </div>
    <div class="detailsContainer">
        <div id="subscriber-address" class="hidden"></div>
        <div id="influencer-address" class="hidden"></div>
    </div>

    <!-- Subscription Goodies -->
    <div id="subscriptionGoodies" class="hidden">
        <video id="goodiesBackground" autoplay muted loop playsinline>
            <source src="./assets/blue_sprite.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="goodies-container">
            <h2 class="goodies-label">Your Subscription Goodies</h2>
            <hr>
            <ul class="goodies-list">
                <li>
                    <a href="https://lucid.app/lucidchart/afd207a0-9c1e-48b1-8e2c-1e928313d4f8/edit?viewport_loc=252600%2C-129200%2C327800%2C152400%2C0_0&invitationId=inv_b12e859f-c7da-420e-9f69-05f3602af9d5" target="_blank" class="goodies-link">
                        üßû‚Äç‚ôÇÔ∏è Lucidchart Diagram
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Timeline -->
    <div id="timeline" class="timeline"></div>

    <!-- About Button -->
    <button id="aboutButton" class="about-button">?</button>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <span id="closeModal" class="close-button">&times;</span>
            <h2>A Decent Subscription</h2>
            <p>This is a decentralized application that uses the Polygon network to handle subscriptions in Jolly's Decent Smart Home network. Subscribe for access to community planning charts and other extra features, maintain your subscription with ease, and see your timeline of interactions with the subscription contract.</p>
            <br>
            <p class="goodies-container">Link to Github Repo <a href="https://github.com/TheJollyLaMa/DecentSubscriptions" target="_blank">Decent Subscriptions</a></p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="scripts/subscriptionApp.js" defer></script>
    <script src="scripts/contract.js" defer></script>
</body>
</html>